{"version":3,"file":"static/js/79045.c3b29502.chunk.js","mappings":"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","sources":["Pages/app/Appraisal/UploadPictures/UploadPictures.jsx","Pages/app/Appraisal/UploadPictures/UploadPicturesContainer.jsx"],"sourcesContent":["import { Tabs, HeaderPage } from \"Components/Appraisal\";\r\nimport UploadPicturesForm   from \"Components/Appraisal/UploadPicturesForm\";\r\n\r\nconst tabs = [\r\n\t{\r\n\t\ttitle : \"Cargar FotografÃ­as\",\r\n\t\tTab   : UploadPicturesForm,\r\n\t},\r\n];\r\n\r\nconst UploadPictures = ({\r\n\tdelegations : {\r\n\t\tonSubmit,\r\n\t\thookForm,\r\n\t\tisLoading,\r\n\t},\r\n}) => {\r\n\r\n\tconst { formState : { isDirty } } = hookForm;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<HeaderPage\r\n\t\t\t\tcurrentIndex={[0, 0]}\r\n\t\t\t\tsection=\"footer\"\r\n\t\t\t\tisDirty={isDirty}\r\n\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\tisSubmitingData={isLoading}\r\n\t\t\t/>\r\n\t\t\t<Tabs\r\n\t\t\t\ttabs={tabs}\r\n\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\thookForm={hookForm}\r\n\t\t\t\tisSubmitingData={isLoading}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UploadPictures;\r\n","import { useEffect, useState }   from \"react\";\r\nimport { useForm, useFormState } from \"react-hook-form\";\r\nimport { useDispatch }           from \"react-redux\";\r\n\r\nimport { useSendFileWithDesc }     from \"Helpers/Hooks\";\r\nimport { FilesSlice }              from \"Store/Slices\";\r\nimport { AppraisalHOCPageFetcher } from \"Components/Appraisal\";\r\nimport UploadPictures              from \"./UploadPictures\";\r\n\r\nconst PARAMS = { select_fields : [\"photo\"] };\r\nconst DEFAULT_FETCH_DATA = {\r\n\tphoto : {\r\n\t\tfacade            : null,\r\n\t\tlocalization_map  : null,\r\n\t\trear_facade       : null,\r\n\t\tdinning_room      : null,\r\n\t\tkitchen           : null,\r\n\t\tbathroom          : null,\r\n\t\tbedroom           : null,\r\n\t\tenviornment       : null,\r\n\t\tsketch_property   : null,\r\n\t\tbedroom_two       : null,\r\n\t\tmicrolocation     : null,\r\n\t\tother_description : null,\r\n\t\tother             : null,\r\n\t},\r\n};\r\n\r\nconst UploadPicturesContainer = ({ appraise = DEFAULT_FETCH_DATA }) => {\r\n\r\n\tconsole.log(appraise);\r\n\r\n\tconst [loadingFiles, setLoadingFiles] = useState(false);\r\n\r\n\t// ------------> redux <---------------\r\n\tconst distpach = useDispatch();\r\n\r\n\t// ------------> RTK-Q <---------------\r\n\tconst { photo } = appraise;\r\n\r\n\tconst {\r\n\t\tfacade,\r\n\t\tlocalization_map,\r\n\t\trear_facade,\r\n\t\tdinning_room,\r\n\t\tkitchen,\r\n\t\tbathroom,\r\n\t\tbedroom,\r\n\t\tenvironment,\r\n\t\tsketch_property,\r\n\t\tbedroom_two,\r\n\t\tmicrolocation,\r\n\t\tother,\r\n\t} = photo;\r\n\r\n\t// ------------> useHookForm <---------------\r\n\tconst getFile = (fileInfo) => {\r\n\t\tif (!fileInfo?.location) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst file = { ...fileInfo };\r\n\t\tdelete file?.description;\r\n\r\n\t\treturn file;\r\n\t};\r\n\r\n\tconst defaultValues  = {\r\n\t\tfacade : {\r\n\t\t\tfile        : getFile(facade),\r\n\t\t\tdescription : facade?.description ?? \"\",\r\n\t\t},\r\n\t\tlocalization_map : {\r\n\t\t\tfile        : getFile(localization_map),\r\n\t\t\tdescription : localization_map?.description ?? \"\",\r\n\t\t},\r\n\t\trear_facade : {\r\n\t\t\tfile        : getFile(rear_facade),\r\n\t\t\tdescription : rear_facade?.description ?? \"\",\r\n\t\t},\r\n\t\tdinning_room : {\r\n\t\t\tfile        : getFile(dinning_room),\r\n\t\t\tdescription : dinning_room?.description ?? \"\",\r\n\t\t},\r\n\t\tkitchen : {\r\n\t\t\tfile        : getFile(kitchen),\r\n\t\t\tdescription : kitchen?.description ?? \"\",\r\n\t\t},\r\n\t\tbathroom : {\r\n\t\t\tfile        : getFile(bathroom),\r\n\t\t\tdescription : bathroom?.description ?? \"\",\r\n\t\t},\r\n\t\tbedroom : {\r\n\t\t\tfile        : getFile(bedroom),\r\n\t\t\tdescription : bedroom?.description ?? \"\",\r\n\t\t},\r\n\t\tenvironment : {\r\n\t\t\tfile        : getFile(environment),\r\n\t\t\tdescription : environment?.description ?? \"\",\r\n\t\t},\r\n\t\tsketch_property : {\r\n\t\t\tfile        : getFile(sketch_property),\r\n\t\t\tdescription : sketch_property?.description ?? \"\",\r\n\t\t},\r\n\t\tbedroom_two : {\r\n\t\t\tfile        : getFile(bedroom_two),\r\n\t\t\tdescription : bedroom_two?.description ?? \"\",\r\n\t\t},\r\n\t\tmicrolocation : {\r\n\t\t\tfile        : getFile(microlocation),\r\n\t\t\tdescription : microlocation?.description ?? \"\",\r\n\t\t},\r\n\t\tother_files : other,\r\n\t};\r\n\r\n\tconst hookForm = useForm({ defaultValues });\r\n\r\n\tconst { handleSubmit, control } = hookForm;\r\n\r\n\tconst { dirtyFields } = useFormState({ control });\r\n\r\n\t// ------------> submitData <---------------\r\n\r\n\tconst isDirtyFiles = () => {\r\n\t\tconst isDirtySomeFile = dirtyFields?.facade?.file\r\n\t\t|| dirtyFields?.localization_map?.file\r\n\t\t|| dirtyFields?.rear_facade?.file\r\n\t\t|| dirtyFields?.dinning_room?.file\r\n\t\t|| dirtyFields?.kitchen?.file\r\n\t\t|| dirtyFields?.bathroom?.file\r\n\t\t|| dirtyFields?.bedroom?.file\r\n\t\t|| dirtyFields?.environment?.file\r\n\t\t|| dirtyFields?.sketch_property?.file\r\n\t\t|| dirtyFields?.bedroom_two?.file\r\n\t\t|| dirtyFields?.microlocation?.file\r\n\t\t|| dirtyFields?.other_files;\r\n\r\n\t\treturn isDirtySomeFile;\r\n\t};\r\n\r\n\tconst isDirtyDescFiles = () => {\r\n\t\tconst isDirtySomeDesc = dirtyFields?.facade?.description\r\n\t\t|| dirtyFields?.localization_map?.description\r\n\t\t|| dirtyFields?.rear_facade?.description\r\n\t\t|| dirtyFields?.dinning_room?.description\r\n\t\t|| dirtyFields?.kitchen?.description\r\n\t\t|| dirtyFields?.bathroom?.description\r\n\t\t|| dirtyFields?.bedroom?.description\r\n\t\t|| dirtyFields?.environment?.description\r\n\t\t|| dirtyFields?.sketch_property?.description\r\n\t\t|| dirtyFields?.bedroom_two?.description\r\n\t\t|| dirtyFields?.microlocation?.description;\r\n\r\n\t\treturn isDirtySomeDesc;\r\n\t};\r\n\r\n\tconst [\r\n\t\thandleSubmitFiles,\r\n\t\thandleRemoveFiles,\r\n\t\t{ isLoading },\r\n\t] = useSendFileWithDesc({ dirtyFields, module : \"photo\" });\r\n\r\n\tconst submitFiles = async (files) => {\r\n\t\tif (!isDirtyFiles() && !isDirtyDescFiles()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait handleRemoveFiles();\r\n\r\n\t\tawait handleSubmitFiles(files);\r\n\t};\r\n\r\n\tconst onSubmit = handleSubmit(async (formData) => {\r\n\t\tsetLoadingFiles(true);\r\n\t\tawait submitFiles(formData);\r\n\t\tsetLoadingFiles(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tdistpach(FilesSlice.actions.clearFiles());\r\n\t\t};\r\n\t}, []);\r\n\r\n\r\n\treturn (\r\n\t\t<UploadPictures\r\n\t\t\tdelegations={{\r\n\t\t\t\tonSubmit,\r\n\t\t\t\thookForm,\r\n\t\t\t\tisLoading : isLoading || loadingFiles,\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default AppraisalHOCPageFetcher(UploadPicturesContainer, PARAMS);\r\n"],"names":["tabs","title","Tab","UploadPicturesForm","delegations","onSubmit","hookForm","isLoading","formState","isDirty","currentIndex","section","isSubmitingData","DEFAULT_FETCH_DATA","photo","facade","localization_map","rear_facade","dinning_room","kitchen","bathroom","bedroom","enviornment","sketch_property","bedroom_two","microlocation","other_description","other","AppraisalHOCPageFetcher","appraise","console","log","loadingFiles","setLoadingFiles","useState","distpach","useDispatch","environment","getFile","fileInfo","location","file","description","defaultValues","other_files","useForm","handleSubmit","control","dirtyFields","useFormState","handleSubmitFiles","handleRemoveFiles","useSendFileWithDesc","module","submitFiles","async","isDirtyFiles","isDirtyDescFiles","files","formData","useEffect","FilesSlice","actions","clearFiles","select_fields"],"sourceRoot":""}