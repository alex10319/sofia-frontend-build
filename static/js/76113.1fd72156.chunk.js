"use strict";(self.webpackChunksofia_frontend=self.webpackChunksofia_frontend||[]).push([[76113],{76113:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var i=s(72791),o=s(61134),n=s(67571),t=s(79684),l=s(29124),r=s(94216);const u={business_approach:{},page_four:{surface:{superficie_salable:""}}},c=[...Array(6).keys()].map((e=>({inv_calcs:{age:"",land:"",building:"",land_lifespan:"",building_lifespan:"",cus:"",offer_price:"",unit_price:"",street:"",colony:""},inv_selects:{housing_class:null,conservation_state:null,other_considerations:null,reference:null,clasification:"",name:"",lada:"",phone:"",url:""},desc_market:{desc:"",type_housing:null,bedrooms:"",bathrooms:"",dining_rooms:"",kitchens:"",garden:"",service_rooms:"",service_bathrooms:"",covered_parking:"",parking:"",common_areas:null}}))),f=[...Array(6).keys()].map((e=>({efficiency_factor:"",vus:"",unit_value_land_net:"",land_surface:"",excess_missing:"",tax:"",adj:"",unit_val:""}))),p=[...Array(6).keys()].map((e=>({fic:"",cus:"",surface:"",negotation:"",zone:"",ubication:"",front:"",shape:"",quality:"",age:"",topography:"",other:"",result_factor:"",unit_value:""})));[...Array(6).keys()].map((e=>({value:""})));var d=s(27593),m=s(80184);const _=e=>{let{delegations:{onSubmit:a,hookForm:s,isLoading:i,ResultRef:o,comparablePropertyRef:n,comparationAnalysisRef:t,homogolationAnalysisRef:l}}=e;const{isDirty:u}=s.formState,c=[{title:"Informaci\xf3n de Mercado",ref:n},{ref:l,title:"Homologaci\xf3n CUS/FACTORES"},{ref:t,title:"Analisis del Enfoque de Comparaci\xf3n"},{ref:o,title:"Resultado"}];return(0,m.jsxs)("div",{className:"section-table",children:[(0,m.jsx)(r.EF,{isDirty:u,currentIndex:[2,1],section:"body",onSubmit:a,isSubmitingData:i}),(0,m.jsxs)(r.hU,{id:"approach-business",hookForm:s,sections:c,onSubmit:a,sectionTitle:"Enfoque de Mercado",children:[(0,m.jsx)(r.iz,{innerRef:n,title:"Informaci\xf3n de Mercado"}),(0,m.jsx)(r.uT,{}),(0,m.jsx)(r.iz,{innerRef:l,title:"Homologaci\xf3n CUS/FACTORES"}),(0,m.jsx)(r.NA,{}),(0,m.jsx)(r.iz,{innerRef:t,title:"Analisis del Enfoque de Comparaci\xf3n"}),(0,m.jsx)(r.NZ,{}),(0,m.jsx)(r.iz,{innerRef:o,title:"Resultado"}),(0,m.jsx)(r.bL,{name:"bussines-result",fromula:d.yu,title:"Resultado del Enfoque de Comparaci\xf3n:",deps:["unit_amount_value","salable_value"],tooltip:"Resultado del Enfoque de Comparacion = (Monto unitario Aplicable) x (Superficie Vendible)"})]})]})},b=(0,r.rD)((e=>{let{appraise:a=u}=e;const{id:s}=(0,n.UO)(),r=(0,i.useRef)(null),b=(0,i.useRef)(null),h=(0,i.useRef)(null),g=(0,i.useRef)(null),[y,{isLoading:v}]=(0,l.u7)({toastName:"apprasialCRUD"}),{business_approach:R,page_four:j}=a,{cus:k,justifications:x,comparable_property:A,homologation_factors:S}=R,C={...R,comparable_property:(0,t.z8)(A,c),cus:(0,t.z8)(k,f),homologation_factors:(0,t.z8)(S,p),justifications:[...Array(6).keys()].map((e=>{var a;return{value:null!==(a=null===x||void 0===x?void 0:x[e])&&void 0!==a?a:""}})),salable_value:j.surface.superficie_salable},z=(0,o.cI)({defaultValues:C}),{handleSubmit:E}=z,q=e=>{const{unit_amount_value:a,salable_value:s}=e;return(0,d.yu)([a,s])},F=E((async e=>{const a=(e=>{const a=e.justifications.map((e=>{let{value:a}=e;return a}));return{...e,justifications:a,business_result:q(e)}})(e);await y({module:"/appraisals/business-approach/".concat(s),method:"PUT",data:a,tags:["appraisals","apprasial_details"]})}));return(0,m.jsx)(_,{delegations:{onSubmit:F,hookForm:z,ResultRef:g,comparablePropertyRef:r,comparationAnalysisRef:h,homogolationAnalysisRef:b,isLoading:v}})}),{select_fields:["business_approach","page_four.surface.superficie_salable"]})}}]);
//# sourceMappingURL=76113.1fd72156.chunk.js.map